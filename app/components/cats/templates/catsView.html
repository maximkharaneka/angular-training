<div class="row">
    <div class="col-sm-8">
        <div class="form-group">
            <label for="search">Search:</label>
            <input ng-change="catsFilter()" type="text" class="form-control" placeholder="Enter the name of the cat..." id="search" ng-model="name" autocomplete="off" ng-minlength="3" />
        </div>
    </div>
    <div class="col-sm-4">
        <div class="form-group">
            <label for="order">Order By:</label>
            <select class="form-control" id="order" ng-model="order" ng-init="order = 'name'" ng-change="catsFilter()">
                <option value="name">Name</option>
                <option value="-votes">Votes</option>
            </select>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-sm-12">
        <table class="table" ng-init="catsFilter()">
            <thead>
            <tr>
                <th>Name</th>
                <th>Author</th>
                <th>Votes</th>
                <th>Operations</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="cat in cats track by cat.id">
                <td>
                    {{cat.id}} <a href="#view" ng-click="changeCat($index)">{{cat.name}}</a> <span class="glyphicon" ng-class="{'glyphicon-ok':cat.viewed > 0}"></span>
                </td>
                <td>{{cat.author}}</td>
                <td>{{cat.votes}}</td>
                <td>
                    <button type="button" class="btn btn-success" ng-click="changeCat($index)" data-toggle="modal" data-target="#catModal">View</button>
                    <button type="button" class="btn btn-danger" ng-click="deleteCat(cat.id)" ng-show="catAccess(cat)">Delete</button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>


<modal cat="selected_cat" visible="visible">
    <img ng-src="{{selected_cat.path}}" style="max-width:100%;" class="img-rounded" title="{{selected_cat.name}}" />
    <div vote-spinner cat="selected_cat"></div>
</modal>
